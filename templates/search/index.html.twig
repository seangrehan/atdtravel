{% extends 'base.html.twig' %}

{% block title %}A Web Page{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1><a href="{{ path('app_search') }}">Product Search</a></h1>

    {{ form(form, {'action': path('app_search')}) }}
    
    {% if products %}
    <table>
        <thead>
            <tr>
                <th>Image</th>
                <th>Title</th>
                <th>Destination</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
            <tr>
                <td><img src="{{ product.img_sml }}"></td>
                <td>{{ product.title }}</td>
                <td>{{ product.dest }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}

    <section>
        {% if products %}
        <p>Showing {{ from }} to {{ to }} of {{ total }} products.</p>
        {% else %}
        <p>Found 0 products.</p>
        {% endif %}
    </section>

    <section>
        <nav>
            {% for key, page in pagination.items %}
            <a href="{{ path('app_search', {'title': app.request.query.get('title'), 'page': key}) }}">{{ page }}</a>
            {% endfor %}
        </nav>
    </section>
{% endblock %}
